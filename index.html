<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Background with Fade Transition</title>

    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            min-height: 100vh;
            font-family: Arial, sans-serif;
            
        }


        /* Navigation bar background styles */
        .navbar-bg {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           padding: 25px 20px;
           z-index: 10;
           backdrop-filter: blur(8px);
           -webkit-backdrop-filter: blur(10px);
           box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
           border-bottom: 1px solid rgba(255, 255, 255, 0.199);
       }
       
       /* Navigation buttons container styles */
       .navbar-buttons {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           padding: 5px 20px;
           z-index: 11;
           display: flex;
           justify-content: flex-end;
           gap: 15px;
           box-sizing: border-box;
       }
       
       /* Navigation links */
       .navbar-buttons a {
           color: white;
           text-decoration: none;
           padding: 10px 15px;
           font-size: 16px;
           font-weight: bold;
           border-radius: 16px;
           transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
           white-space: nowrap;
           transition: transform 0.3s ease-out, margin 0.3s ease-out;
           backdrop-filter: blur(2px);
           -webkit-backdrop-filter: blur(8px);
           /* background-color: rgba(255, 255, 255, 0.1); */
       }
       
       /* Hover effect */
       .navbar-buttons a:hover {
           transform: scale(1.3) translateY(10px);
           background-color: rgba(255, 255, 255, 0.15);
           box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
           border-bottom: none;
       }
       
       /* Push effect for adjacent buttons */
       .navbar-buttons a:hover + a,
       .navbar-buttons a:has(+ a:hover) {
           transform: scale(1.1);
           margin: 0 8px;
       }
       
       /* Active page link */
       .navbar-buttons a.active {
           background-color: #ffffff;
           color: #333333;
       }
       
       /* Media Queries for Mobile Responsiveness */
       @media (max-width: 768px) {
           .navbar-buttons {
               padding: 5px 10px; /* Reduce padding */
               gap: 8px; /* Reduce gap */
           }
           .navbar-buttons a {
               font-size: 14px; /* Smaller font size */
               padding: 8px 12px; /* Adjust padding */
           }
           .navbar-bg {
           padding: 22px 20px;
       }
       }
       
       @media (max-width: 480px) {
           .navbar-buttons a {
               font-size: 12px; /* Even smaller font size */
               padding: 6px 10px; /* Adjust padding */
           }
           .navbar-bg {
           padding: 18px 20px;
       }
       
       }
       
        .background-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            transition: opacity 1s ease-in-out;
        }
        .background-container:nth-child(2) {
            opacity: 0;
        }
        #backgroundWrapper {
            width: 100%;
            height: 100%;
        }

        .background-container {
             position: fixed;
             top: -5%;  
             left: -5%; 
             width: 110%; 
             height: 110%;
             background-size: cover;
             background-position: center;
             transition: opacity 1s ease-in-out, filter 0.3s ease-in-out;
            }
            
            .background-container.blurred {
                filter: blur(5px);
            }
            
            html {
              scroll-behavior: smooth;
            }


             .text-box {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.021); 
            padding: 5% 6.5% 7% 5%; 
            border-radius: 20px;
            font-family: sans-serif;
            text-align: left;
            white-space: normal;
            backdrop-filter: blur(8px); 
            -webkit-backdrop-filter: blur(10px); 
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); 
            border: 1px solid rgba(255, 255, 255, 0.199);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0);
        }

        .text-bo {
            position: relative;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: auto;
            height: auto;
        }

        .text-box .big-text,
        .text-box .small-text,
        .text-box .philosophy-text {
            color: white; 
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.644); 
            
        }

        .text-box .big-text {
            font-weight: bold;
            display: block;
            /* letter-spacing: 5px;
            word-spacing: 10px;  */
            line-height: 0.6;  
            margin-bottom: 10px; 
            font-size: clamp(5.7em,6.4vw,7.0rem);
        }
        .text-box .small-text {
            /* margin-top: 1000.5px;  */
            /* letter-spacing: 1.1px; 
            line-height: 1.5; */
            font-size: clamp(0.7em,1.0vw,0.9rem);

        }

        .text-box {
            width: 320px; 
            height: 220px;
        }
        /* Image Grid Section CSS Start */
        .image-grid-section {
            padding: 50px 0;
            background-color: #2c3e50;
            display: flex;
            justify-content: center;
            width: 100%;
            margin-top: 10px; /* Add this line to create space */
        }
        
        .grid-container {
            display: grid;
            gap: 30px;
            width: 70vw;
            max-width: 1200px;
            justify-content: center;

        }
        
        .image-button {
            position: relative;
            width: 100%;
            padding-top: 70%;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.356);
        }
        
        .image-button img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease-in-out;
        }
        
        .image-button:hover img {
            transform: scale(1.1);
        }
        
        .image-button .overlay {
            position: absolute;
            bottom: 20px;
            width: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0));
            color: white;
            text-align: center;
            padding: 0px;
            font-family: sans-serif;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.644); 
            letter-spacing: 1.1px;
            margin-bottom: 9px;

        }
        
        @media (min-width: 768px) {
            .grid-container {
                grid-template-columns: repeat(3, 1fr);
                font-size: 1.0em;
            }
        }
        
        @media (max-width: 767px) {
            .grid-container {
                grid-template-columns: repeat(2, 1fr);
                font-size: 0.9em;           
            }
        }

        @media (max-width: 480px) {
            .grid-container {
            width: 90vw;
            gap: 20px;

        }
       }

         .paragraph-container {
            display: flex;
            justify-content: center;
            padding: 0px;
            width: 100%;
            height: auto;
            max-width: 1500px;
            margin: 150px auto;
            gap: 60px;
            flex-direction: row;
            flex-wrap: wrap;
        }
        

        .paragraph-box {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.356);
            color: white;
            width: 30%;
            word-wrap: break-word; 
            font-family: sans-serif;
            font-size: clamp(1.em,1.5vw,10.25rem); /* Default font size */
            transition: all 0.3s ease-in-out;
        }
        .paragraph-box:hover {
            background: rgba(255, 255, 255, 0.062);
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }
        .paragraph-header {
            text-align: center;
            font-size: 2.5em; /* Adjust font size as needed */
            margin-bottom: 10px; /* Add spacing between header and paragraph */
        }
        
        #paragraph1,#paragraph2,#paragraph3 {
            font-size: 20px; /* Example font size */
        }

        /* Media query for mobile phones */
        @media (max-width: 768px) {
            .paragraph-container {
               /* flex-direction: column;  Vertical orientation on mobile */
                align-items: center;
            }
            .paragraph-box {
                width: 90%;
               /* font-size: 0.7em;  Smaller font size on mobile */
            }
            .paragraph-header {
            text-align: center;
           /* font-size: 2.0em;  Adjust font size as needed */
            margin-bottom: 10px; /* Add spacing between header and paragraph */
        }
        }

                /* Media query for tablets */
        @media (max-width: 1200px) {
            .paragraph-container {
                flex-direction: column; /* Vertical orientation on mobile */
                align-items: center;
            }
            .paragraph-box {
                width: 70%;
            }
        }
        
        /* Media query for tablets */
        @media (min-width: 768px) and (max-width: 1024px) {
          /*   .paragraph-box {
               font-size: 0.9em;  Slightly smaller font size on tablets 
            }*/
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: auto;
            padding: 40px 0;
            display: flex;
            flex-direction: column;
            gap: 80px;

            
        }
        .block {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            background: rgba(255, 255, 255, 0.027);
            color: white;
            padding:50px;
            margin:20px;
            border-radius: 20px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.356);
            transition: all 0.3s ease-in-out;

        }


        .block:hover {
            background: rgba(255, 255, 255, 0.062);
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        .text {
            flex: 1;
            

        }
        .text h2 {
            color: #ffffff;
            font-size: 1.5em;
        }
        .text h1 {
            font-size: 2em;
            margin: 10px 0;
            color: #ffffff;
        }
        .text p {
            color: #ffffff;
            font-size: 1em;
            line-height: 1.6;
        }
        .image-container {
            flex: 1;
            position: relative;
        }
        .image-container img {
            width: 100%;
            max-width: 500px;
            max-height: 350px;
            object-fit: cover;
            border-radius: 10px;
            cursor: pointer;
        }
        .small-image {
            width: 40%;
            max-width: 180px;
            max-height: 120px;
            position: absolute;
            bottom: -30px;
            right: -30px;
            border: 2px solid white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        /* Smaller second small image */
        .image-container:nth-child(2) .small-image {
            width: 35%;
            max-width: 150px;
            max-height: 100px;
        }
        /* Full-screen image modal */
        .image-modal {
            display: none; /* Ensure modal is hidden initially */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999; /* Ensure it's on top of other elements */
        }

        .image-modal img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 10px;
        }


        .back-button {
            position: absolute;
            top: 20px;
            left: 20px;
            background-color: #b59f66;
            color: white;
            border: none;
            padding: 10px 15px;
            font-size: 1em;
            cursor: pointer;
            border-radius: 5px;
        }
        @media (max-width: 768px) {
            .block {
                flex-direction: column;
                text-align: center;
            }
            .image-container {
                width: 100%;
                display: flex;
                justify-content: center;
            }
            .small-image {
                width: 30%;
                max-width: 120px;
                bottom: -20px;
                right: -20px;
            }
        }


        .text {
           position: relative;
           z-index: 10; /* Higher than any overlapping elements */
        }
       
               
        /* Footer Section CSS Start */
        .footer-section {
            padding: 40px 10;
            text-align: center;
            position: relative;
            margin-bottom: 0; /* Ensures the footer touches the bottom */
            margin-top: 40px;
        }
        .footer-section {
            background: rgba(255, 255, 255, 0.1); /* Light transparent red */
            color: white;
            font-family: sans-serif;
            width: 100%; 
            padding: 40px 0;
            text-align: center;
            position: relative;
            margin-bottom: 0;
            backdrop-filter: blur(8px); 
            -webkit-backdrop-filter: blur(10px); /* For Safari support */
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); 
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.356);
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }
        
        .quotes-section, .contact-section {
            margin: 20px; /* Added some default margin */
            flex: 1 1 300px;
            font-size: 18px;
        }
        
        .quotes-section h3, .contact-section h3 {
            margin-bottom: 20px;
        }
        
        .social-links a {
            color: white;
            text-decoration: none;
            margin: 0 10px;
            padding: 8px 15px;
            border: 1px solid white;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }
        
        .social-links a:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }
        
        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .footer-content {
                flex-direction: column; /* Stack items vertically on small screens */
                align-items: center; /* Center items horizontally */
            }
        
            .quotes-section, .contact-section {
                margin: 2px 0; /* Adjust margins for stacked layout */
                flex: 1 1 auto; /* Allow items to take full width */
            }
            .quotes-section h3, .contact-section h3 {
                font-size: 1.2em;
            }
            .social-links a {
                padding: 5px 10px;
                font-size: 0.9em;
            }
            .footer-section{
                padding: 20px 0;
            }
            .quotes-section p{
                font-size: 0.9em;
            }
        }
 /* Footer Section CSS End */


 .content {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;

}


.image-button-item {
            break-inside: avoid;
            position: relative;
            background: rgba(255, 255, 255, 0.021); 
            padding: 5% 5% 1% 5%; 
            border-radius: 15px;
            text-align: left;
            white-space: normal;
            backdrop-filter: blur(8px); 
            -webkit-backdrop-filter: blur(10px); 
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1); 
            border: 1px solid rgba(255, 255, 255, 0.199);
            color: white;
            text-align: center;
            font-family: sans-serif;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.644); 
            letter-spacing: 1.1px;
            margin-bottom: 9px;
        }

        
    </style>

</head>
<body>


    <div class="navbar-bg"></div>

    <div class="navbar-buttons">
    
        <a href="index.html">Home</a>
        <a href="Project.html">Project</a>
        <a href="gallery.html">Gallery</a>
        <a href="about.html">About</a>        
    </div>

    <div id="backgroundWrapper">
        <div class="background-container" id="currentBackground"></div>
        <div class="background-container" id="nextBackground"></div>
    </div>

    <div class="text-box" id="textBox">
    <div class="text-bo" id="textBo">
        <span class="big-text">Hi I'm</span><br>
        <span class="big-text">RAHAT</span><br>
        <span class="small-text">TRYING TO LIVE A HONEST AND CREATIVE LIFE</span><br>
        <!-- <span class="philosophy-text">MY PHILOSOPHY IS TO REWARD<br>GOOD DEEDS AND PUNISHED BAD</span> -->
    </div>
    </div>

    <div class="image-grid-section">
        <div class="grid-container" id="imageGrid">

      
       <div class="image-button-item">
           <a href="aquarium.html" style="text-decoration: none; color: inherit;">
               <div class="image-button">
                   <img src="Thumbnail/aquarium-thumbnail.jpg" alt="Image 1" style="border: none; padding: 0; margin: 0; display: block;">
               </div>
               <div class="caption-container">
                   <p class="caption">AQUARIUM</p>
               </div>
           </a>
       </div>

      <div class="image-button-item">
        <div class="image-button">
            <img src="backgroundImage/button-image.jpg" alt="Image 1">
        </div>
        <div class="caption-container">
            <p class="caption">not now</p>
        </div>
      </div>


      <div class="image-button-item">
        <div class="image-button">
            <img src="backgroundImage/button-image3.jpg" alt="Image 1">
        </div>
        <div class="caption-container">
            <p class="caption">not now</p>
        </div>
      </div>
       

      <div class="image-button-item">
        <div class="image-button">
            <img src="backgroundImage/button-image.jpg" alt="Image 1">
        </div>
        <div class="caption-container">
            <p class="caption">not now</p>
        </div>
      </div>

      <div class="image-button-item">
        <div class="image-button">
            <img src="backgroundImage/button-image2.jpg" alt="Image 1">
        </div>
        <div class="caption-container">
            <p class="caption">not now</p>
        </div>
      </div>
       

      <div class="image-button-item">
        <div class="image-button">
            <img src="backgroundImage/button-image.jpg" alt="Image 1">
        </div>
        <div class="caption-container">
            <p class="caption">not now</p>
        </div>
      </div>


        </div>
    </div>




    <div class="paragraph-container">
        <div class="paragraph-box">
            <div class="paragraph-header">1</div> <p id="paragraph1"> I might not be the sharpest tool in the shed, or the best-looking, but I'm pretty good with my hands and love learning new stuff.  The thing is, I'm also kinda lazy.  Like, if there's a tiny job, I'll spend a month building some crazy thingamajig just so I never have to do that simple task again.</p>
        </div>
        <div class="paragraph-box">
            <div class="paragraph-header">2</div> <p id="paragraph2"> My deep moral compass is guided by the belief that a just society, even a heavenly one, can be achieved through the simple act of punishing bad deeds and rewarding good ones. While it may seem straightforward, this principle holds the key to a harmonious world. Good deeds, when practiced universally, foster societal well-being, whereas bad deeds, whether widespread or isolated, inevitably lead to chaos.</p>
        </div>
        <div class="paragraph-box">
            <div class="paragraph-header">2</div> <p id="paragraph2"> We can discern good deeds from bad by considering their universal impact on society. Actions are generally good if, when practiced by everyone, they lead to widespread well-being, cooperation, and overall societal flourishing. Conversely, actions are generally bad if, even when performed by a few or, especially, by everyone, they result in harm, chaos, and the breakdown of societal order. This test of universal consequence helps us identify behaviors that inherently contribute to or detract from a thriving community. </p>
        </div>
    </div>

    <div class="container">
        <div class="block">
            <div class="text">
                <h2>03 — Positivity</h2>
                <h3>Cheerfully killin’ it</h3>
                <p>It’s simple, we love what we do. From the impassioned strategy meetings, to the creative eureka moments, to the late night grinds – the toughest challenges don’t stand a chance.</p>
            </div>
            <div class="image-container">
                <img src="image3.jpg" alt="Team Positivity" onclick="openImage(this.src)">
                <img src="https://cdn.pixabay.com/photo/2024/05/19/13/27/daisies-8772617_1280.jpg" alt="Casual Fun" class="small-image" onclick="openImage(this.src)">
            </div>
        </div>
        <div class="block">
            <div class="text">
                <h2>04 — Innovation</h2>
                <h1>Pushing the boundaries</h1>
                <p>Creativity fuels our work. We thrive on groundbreaking ideas, transforming challenges into opportunities with strategic thinking and innovation.</p>
            </div>
            <div class="image-container">
                <img src="https://cdn.pixabay.com/photo/2025/01/19/19/17/bird-9345016_1280.jpg" alt="Team Positivity" onclick="openImage(this.src)">
                <img src="https://cdn.pixabay.com/photo/2024/05/19/13/27/daisies-8772617_1280.jpg" alt="Casual Fun" class="small-image" onclick="openImage(this.src)">
            </div>
        </div>
    </div>
    
    <footer class="footer-section">
        <div class="footer-content">
            <div class="quotes-section">
                <h6>Your first static paragraph goes here. Replace this text with your desired content.</h6>


            </div>
            <div class="contact-section">
                <h3>Contact & Social</h3>
                <div class="social-links">
                    <a href="https://www.facebook.com/imranhossen.rahat.503" target="_blank">Facebook</a>
                    <a href="#" target="_blank">Twitter</a>
                    <a href="https://www.instagram.com/rahatimranhossen/" target="_blank">Instagram</a>
                    <h5>imranrahat616@gmail.com</h5>
                </div>
        </div>
    </footer>

    <div class="image-modal" id="imageModal">
        <img src="" alt="Full-screen Image" id="fullImage">
        <button class="back-button" onclick="closeImage()">Back</button>
    </div>

<script>
    const textBox = document.getElementById('textBox'); // Assuming 'textBox' exists in your HTML
    const backgroundWrapper = document.getElementById('backgroundWrapper');

    // Get background containers by their specific IDs for clarity and direct access
    const currentBackgroundDiv = document.getElementById('currentBackground');
    const nextBackgroundDiv = document.getElementById('nextBackground');

    let focalX = 73;
    let focalY = 50;

    function updateBackgroundPosition() {
        currentBackgroundDiv.style.backgroundPosition = `${focalX}% ${focalY}%`;
        nextBackgroundDiv.style.backgroundPosition = `${focalX}% ${focalY}%`;
    }

    updateBackgroundPosition();

    const imageUrls = [ // Renamed for clarity that these are just URLs
        'backgroundImage/image1.jpg',
        'backgroundImage/image2.jpg',
        'backgroundImage/image3.jpg',
    ];

    // Array to hold promises for preloading, or just to indicate completion
    let preloadedImagePromises = [];
    // Array to store the 'url(...)' strings for direct use
    let cachedImageUrls = [];

    // Retrieve the last saved image index from localStorage (or default to 0)
    let imageIndex = localStorage.getItem('imageIndex') ? parseInt(localStorage.getItem('imageIndex')) : 0;

    // --- NEW/MODIFIED: Preload ALL Images Function ---
    function preloadAllImages() {
        imageUrls.forEach(url => {
            const promise = new Promise((resolve, reject) => {
                const img = new Image();
                img.src = url;
                img.onload = () => {
                    cachedImageUrls.push(`url('${url}')`); // Store the formatted URL string
                    resolve(url);
                };
                img.onerror = () => reject(new Error(`Failed to load image: ${url}`));
            });
            preloadedImagePromises.push(promise);
        });
        return Promise.all(preloadedImagePromises); // Wait for all images to load
    }

    // --- MODIFIED: setSequentialBackground (now only determines next image, not preloads) ---
    function setSequentialBackground() {
        // This function's role is simplified because all images are preloaded upfront
        const nextImageIndex = (imageIndex + 1) % imageUrls.length;
        const nextImageUrlString = cachedImageUrls[nextImageIndex]; // Get from the preloaded array

        // Set the background on the 'nextBackgroundDiv'
        // It remains hidden (opacity: 0) until its turn in startTransitionLoop
        nextBackgroundDiv.style.backgroundImage = nextImageUrlString;

        // Save the current image index to localStorage for the next page load
        localStorage.setItem('imageIndex', imageIndex);

        // Update imageIndex for the *next* cycle's current image
        imageIndex = nextImageIndex;
    }

    // --- MODIFIED: Initialization function to preload all images upfront ---
    async function initializeBackgrounds() {
        console.log("Starting image preloading...");
        await preloadAllImages(); // Wait for all images to be preloaded
        console.log("All images preloaded.");

        // Set the initial background based on the retrieved imageIndex
        // Use the preloaded URL string
        currentBackgroundDiv.style.backgroundImage = cachedImageUrls[imageIndex];

        // Set the next image immediately for the first transition, also from preloaded
        const initialNextImageIndex = (imageIndex + 1) % imageUrls.length;
        nextBackgroundDiv.style.backgroundImage = cachedImageUrls[initialNextImageIndex];


        // Start the main transition loop after a brief delay
        setTimeout(startTransitionLoop, 100);
    }

    // --- MODIFIED: Function to manage the actual fading transition ---
    function startTransitionLoop() {
        setInterval(() => {
            // Swap the backgrounds: the preloaded image from nextBackgroundDiv becomes current
            currentBackgroundDiv.style.backgroundImage = nextBackgroundDiv.style.backgroundImage;

            // Trigger the fade-out of the old background and fade-in of the new current one
            currentBackgroundDiv.style.opacity = 1; // Ensure current is visible
            nextBackgroundDiv.style.opacity = 0; // Ensure next is hidden for the next image

            // Now, call setSequentialBackground to set the *next* preloaded image onto nextBackgroundDiv
            setSequentialBackground();
        }, 30000); // Your specified interval for changing images
    }

    // --- Call the initialization function to start the background process ---
    initializeBackgrounds();


    function updateLayout() { } // Your existing function

    updateLayout();
    window.addEventListener('resize', updateLayout);


    document.addEventListener("DOMContentLoaded", function () {
        const allBackgrounds = document.querySelectorAll(".background-container");

        window.addEventListener("scroll", function () {
            let scrollPosition = window.scrollY;

            if (scrollPosition > 30) {
                allBackgrounds.forEach(bg => bg.classList.add("blurred"));
            } else {
                allBackgrounds.forEach(bg => bg.classList.remove("blurred"));
            }
        });
    });

    const modal = document.getElementById("imageModal");
    const fullImage = document.getElementById("fullImage");

    if (modal) {
        modal.style.display = "none";
    }

    function openImage(src) {
        if (fullImage && modal) {
            fullImage.src = src;
            modal.style.display = "flex";
        }
    }

    function closeImage() {
        if (modal) {
            modal.style.display = "none";
        }
    }

    document.addEventListener("wheel", function(event) {
        event.preventDefault(); // Prevent default scrolling
        window.scrollBy({
            top: event.deltaY * 1.2,
            behavior: "smooth"
        });
    }, { passive: false });
</script>

</body>
</html>  
